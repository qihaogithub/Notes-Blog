# 博客部署指南

## 📋 前置条件

1. 已创建笔记仓库（如 `notes`）
2. 已创建博客仓库（当前仓库）
3. 已生成 GitHub PAT（个人访问令牌）

## 🔧 部署步骤

### 1. 配置 GitHub Secrets

1. 进入博客仓库 → Settings → Secrets and variables → Actions
2. 点击 **New repository secret**
3. 设置：
   - **Name**: `NOTE_REPO_TOKEN`
   - **Value**: `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`
4. 点击 **Add secret**

### 2. 启用 GitHub Pages

1. 进入博客仓库 → Settings → Pages
2. Source 选择 `gh-pages branch`
3. 保存后等待 1-2 分钟

### 3. 部署博客

1. 提交代码到 GitHub：
   ```bash
   git add .
   git commit -m "完善博客功能和样式"
   git push origin main
   ```

2. 手动触发工作流：
   - 进入博客仓库 → Actions → 右侧 "Sync Notes & Deploy" → 点击 "Run workflow"
   - 等待工作流执行完成



选择GitHub Actions后，使用GitHub Pages Jekyll还是Static HTML

### 4. 访问博客

- URL：`https://qh2.github.io/blog`
- 博客将每小时自动同步一次笔记仓库的内容

## 📝 使用说明

### 添加新文章

1. 在笔记仓库（`notes`）中添加新的 Markdown 文件
2. 文件名将自动成为文章标题（除非文件首行使用 `# 标题` 格式）
3. 等待一小时或手动触发工作流同步

### 文章格式建议

```markdown
# 文章标题

文章内容...

## 二级标题

正文内容...

### 代码块

```javascript
console.log("Hello World");
```

### 引用

> 这是一个引用块
```

## 🔍 故障排除

### 工作流失败

1. 检查 `NOTE_REPO_TOKEN` 是否正确配置
2. 确认笔记仓库地址是否正确（`.github/workflows/deploy.yml` 中的 `repository`）
3. 查看 Actions 页面的错误日志

### 页面样式问题

1. 确保 `marked` 依赖已安装（`npm install`）
2. 检查 `build.js` 脚本是否正常运行（`npm run build`）

### 自动同步不工作

1. 检查 GitHub Actions 是否启用
2. 确认 `deploy.yml` 中的 cron 表达式配置正确
3. 可以手动触发工作流进行测试

## 🎨 自定义样式

如需修改博客样式，编辑 `build.js` 中的 CSS 部分：

- 首页样式：修改 `indexHtml` 变量中的 `<style>` 标签
- 文章页样式：修改 `articleHtml` 变量中的 `<style>` 标签

## 📊 项目结构

```
blog/
├── .github/workflows/
│   └── deploy.yml          # GitHub Actions 配置
├── public/                 # 生成的静态文件
│   ├── index.html          # 博客首页
│   ├── 第一篇博客.html     # 文章页面
│   └── ...
├── temp-notes/             # 笔记仓库内容（本地测试）
├── build.js                # 构建脚本
├── package.json            # 项目配置
└── 部署指南.md             # 本文件
```

## 🚀 下一步计划

- [ ] 添加文章分类功能
- [ ] 实现搜索功能
- [ ] 添加评论系统
- [ ] 优化移动端体验